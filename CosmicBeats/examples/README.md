### Overview

The emulator takes in a configuration file that specify the topological information of constellation and ground station and output log files that captures the traffic received by each satellite. To run the emulation:
- First, collect a json file that captures the user topology. The json file should contain a list of user informations, where each user is encoded as a sublist `[lat, lon, trace_dir]`.
- Second, run the generation script to create a config file. The motion of satellite can be specified as arguments, see next section for detail.
- Thrid, at root directory of emulator, run `python3 main.py config_dir`.
- Lastly, the SAT log in the log directory will have all traffic seen by the satellite.

### Configuration file generation
The configuration file needs to specify the following information
- Example usage: `python3 config_gen.py -m motion -u ./user.json -o config.json -l example/log`
- Satellite topology: each satellite is specified by a TLE pair, this will be automatically generated by the generation script.
    - The generation script will allow specifying different orbital movement:
        - use `-m motion`  to specify moving satellites
        - use `-m stationary` to specify stationary satellites
        - use `-m orbitstationary` to specify orbital stationary satellites
- User topology: each user is specified by a coordinate and a trace file (in format of time:id:size).
    - The generation script takes in `-u user_info_dir` as directory to a json file in the form of `[[lat, lon, trace_dir], [lat, lon, trace_dir], ...]`, which is used by the generation script to create user related information. Note the trace_dir should be relative to root of emulator or absolute path.
- Emulation log directory: the directory (relative to root of emulator or absolute path) where the emulator outputs logs to 
    - use `-l log_dir` to specify the log directory
- Output: the script will output a json file that can be directly taken by the emulator.
    - use `-o file_name` to specify the name of config file, the config file will be created in the current working directory.

### Post-emulation data collection
Once emulation finishes, use `python3 parse_traffic.py input_dir output_dir` to parse the log into satellite trace file in the same format as Akamai trace file.

